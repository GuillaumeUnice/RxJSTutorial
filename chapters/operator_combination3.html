<section>
    <h2>Combination Operators III</h2>
    <ul style="font-size: 0.75em">
        <li>merge => Interleave events by merging streams</li>
        <li>concat => Preserve order of events by concatenating streams</li>
        <li>switchAll => Switch to the latest stream data</li>
        <br>
        <li style="color: red">mergeAll</li>
        <li style="color: red">concatAll</li>
        <li style="color: red">zipAll</li>
        <!--TODO: switchAll is not possible turns out we keep only the last inner Observable so map + switch = switchMap-->
        <br>
        <li>combineLatest</li>
        <li>forkJoin</li>
        <li>zip</li>
        <li>withLatestFrom</li>
        <br>
        <li>exhaust</li>
        <li>combineAll</li>
        <li>race</li>
        <li>startWith</li>
    </ul>
</section>
<section>
    <h2>Observable as Monad!</h2>
    <blockquote>
        Additional logic under the hood to compress the inner observable back into a single observable structure
        <span  style="position: absolute; right: 0; bottom: -20px; font-size: 0.5em">Paul P. Daniels &amp; Luis Atencio, RxJS in Action</span>
    </blockquote>
    <img src="images/nested_observable.png" width="400" style="border: none;" alt="Nested Observable schema" />
    <blockquote>
        Converts a higher-order Observable into a first-order Observable which concurrently delivers all values that are emitted on the inner Observables and applying a combination strategy (merge, concat)
    </blockquote>
</section>
<section>
    <h2>mergeAll Operator</h2>
    <blockquote>map + mergeAll = mergeMap</blockquote>
    <p>merge equivalent nested susbcription
        <a href="//jsfiddle.net/Echyzen/k6fukb5v/" target="_blank">here</a> &amp;
        <a href="//jsfiddle.net/Echyzen/qsbfzez0/" target="_blank">here</a>
    </p>
    <pre><code class="js"  data-trim contenteditable>
        rxjs.fromEvent(document, 'click')
            .pipe(
                rxjs.operators.map((ev) => rxjs.interval(900).pipe(rxjs.operators.take(5))),
                rxjs.operators.mergeAll()
            )
    </code></pre>
    <iframe src="https://giphy.com/embed/dup8EiKjcT0iFJSQ63" width="400" height="100%" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
    <blockquote>Flattens an Observable-of-Observable || Collect and subscribe to all observables</blockquote>
</section>
<section>
    <h2>concatAll Operator</h2>
    <blockquote>map + concatAll = concatMap</blockquote>
    <pre><code class="js"  data-trim contenteditable>
            rxjs.fromEvent(document, 'click')
                .pipe(
                    rxjs.operators.map((ev) => rxjs.interval(900).pipe(rxjs.operators.take(5))),
                    rxjs.operators.concatAll()
                )
        </code></pre>
    <iframe src="https://giphy.com/embed/1UVCuNtFSGq3EqhPPz" width="400" height="100%" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
    <blockquote>Flattens an Observable-of-Observables by putting one inner Observable after the other || Collect observables and subscribe
        to next when previous completes</blockquote>
</section>
<section>
    <h2>zipAll Operator</h2>
    <pre style="font-size: 0.45em; margin: 0;"><code class="js"  data-trim contenteditable>
        const interval$ = rxjs.interval(1000)
        //when one inner observable completes no more values will be emitted
        rxjs.of(interval$, interval$.pipe(rxjs.operators.take(2)))
            .pipe(rxjs.operators.zipAll())
        </code></pre>
    <iframe src="https://giphy.com/embed/p3UpBnlcSest8ApaFW/" width="400" height="100%" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
    <pre style="font-size: 0.45em; margin: 0;"><code class="js"  data-trim contenteditable>
            let age$ = rxjs.of(27, 25, 29)
            let name$ = rxjs.of('Foo', 'Bar', 'Beer')
            let isDev$ = rxjs.of(true, true, false)
            // Here we compute the created value through a function in last parameter
            rxjs.of(age$, name$, isDev$)
                .pipe(
                    rxjs.operators.zipAll(),
                    rxjs.operators.delay(3000)
                )
        </code></pre>
    <iframe src="https://giphy.com/embed/NS69RN2zKkGTwpYFvS" width="300" height="100%" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
    <blockquote style="font-size: 0.75em">
        Combines multiple Observables value from an Observable of Observable to create an Observable whose values are calculated from the values, in order, of each input Observables
    </blockquote>
    <aside class="notes">
        Pretty much like zip Operator but on Observable of Observable so only intance method
    </aside>
</section>
<section>
    <h2>Other Combination Operator</h2>
    <ul>
        <li>combineAll => Flattens an Observable-of-Observables by applying combineLatest when the Observable-of-Observables completes <a href="//jsfiddle.net/btroncone/pvj1nbLa/" target="_blank">here</a></li>
    </ul>
    <aside class="notes">
        - combineAll => Once the outer Observable completes, it subscribes to all collected Observables and combines their values using the combineLatest strategy <a href="//reactivex.io/rxjs/class/es6/Observable.js~Observable.html#instance-method-combineAll" target="_blank">diagram</a>
    </aside>
</section>